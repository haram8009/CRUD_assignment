{% extends 'base.html' %}
{%load static%}

{% block title %}''{% endblock title %}

{% block extrahead %}{% endblock extrahead %}

{% block content %}
  <div class="content">
    <h3>{{search_text}}({{search_count}})</h3>
    <a href="{% url 'new' %}">
      <button>새 글 작성하기</button>
    </a>
    <div>
      {% for blog in page_obj %}
        <a href="{%url 'detail' blog.id %}">
          <h2>{{blog.title}}</h2>
          {% if blog.image %}
            <img width="100px" src="{{blog.image.url}}"/>
          {% endif %}
          <p>{{blog.summary}}</p>
          <p>{{blog.created_at}}</p>
        </a>
      {% endfor %}
    </div>

    <span>
      {% if page_obj.has_previous %}
        <a href="?page=1">처음으로</a>
        <a href="?page={{page_obj.previous_page_number}}">이전</a>
      {% endif %}
    </span>

    <span>
      <span>{{page_obj.number}}</span>
      <span>
        /
      </span>
      <span>{{page_obj.paginator.num_pages}}</span>
    </span>

    <span>
      {% if page_obj.has_next %}
        <a href="?page={{page_obj.next_page_number}}">다음</a>
        <a href="?page={{page_obj.paginator.num_pages}}">마지막으로</a>
      {% endif %}
    </span>
  </div>
{% endblock content %}
